### 개념정리_함수형 프로그래밍 주요 용어 정리

고고싱!!! 오늘도 달려보자!!!<br>

<br>



### 참고자료

- [함수형 길들이기 - 코드의 재사용과 높은 수준의 테스팅을 원한다면](http://www.yes24.com/Product/Goods/17945487)

<br>



### 일급함수

일급 함수는 다른 함수를 인자로 받거나 반환할 수 있다.<br>

<br>



### 부수효과(side effect)

함수 본연의 기능 이외의 행위를 말한다.<br>

함수가 실행한 결과를 반환하지 않고 (함수 스코프를 벗어난) 외부 객체를 변경하는 것<br>



e.g.

- println 같은 외부 함수, 전역 변숫 값의 변경
- 함수에 인자로 넘긴 변수를 그 함수 내부에서 바꾸는 것

<br>



부수효과(side effect)는 중요하다.<br>

예를 들어객체 데이터를 persist 또는 화면에 표시하거나 필드 값을 변경할 때 모두 부수효과를 내게 된다.<br>

부수 효과가 없다면 애플리케이션 대부분은 쓸모가 없게 된다. 부수효과는 나쁘다고 할 수 만은 없지만 사용을 절제할 필요가 있다. 함수형 개념을 벗어나기 때문에 특정한 상황에 한해서만 사용해야 한다.<br>

부수효과는 문장(statement)을 통해 구현할 수 있다. (**7장. 문장** 에서 자세히 정리 예정)<br>

<br>



### 순수함수

부수 효과(side effect)가 없는 함수를 순수 함수(pure function)라고 한다.<br>

순수함수는 오로지 "입력에 따라 출력이 달라진다."<br>

처리 로직이 많고 복잡한 함수는 테스트하기 쉽지 않다. 시간이 흐를수록 코드는 점점 커지고 기능 변경을 할 일이 많아진다. 대체로 함수의 몸집이 커질수록 기능을 고치려면 더 많은 파라미터가 필요해진다. 그래서 함수를 더 작은 순수함수들로 나누어 작성하면 코드의 전반적인 기능을 잘 이해하고 파악하는 데 도움이 된다.<br>

개인적인 경험으로는 이렇게 작게 나누어 보다 보면, 가장 바깥쪽의 함수가 약간은 흐름을 요약하는 수준이 되었던 것 같다.<br>

<br>



### 재귀

재귀는 알고리즘 코드를 더욱 짧고 간결하게 작성할 수 있도록 도와준다. 또한 함수의 입력부만 신경 써서 코드를 실행할 수 있는데, 현 단계의 반복과 반복을 계속할지의 여부 두 가지 문제만 집중하면 된다.<br>

<br>



### 불변 변수

불변 변수 (immutable variable) 는 한번 할당하면 다시는 변경할 수 없는 변수를 의미한다.<br>

<br>



### 느슨한 계산 (Non strict evaluation)

느슨한 계산 (Non strict evaluation)이란, 변수를 선언만 해두고 계산은 나중으로 미루는 것을 의미한다.<br>

'느슨한'이란 일단 선언만 해둔 상태에서 처음 누군가가 참조할 때에 비로소 할당(계산)된다는 것을 의미한다.<br>



### 조급한 계산 (strict evaluation)

조급한 계산 (strict evaluation)은 변수 선언과 동시에 값을 할당하는 것을 의미한다.<br>

<br>



### 문장

문장이란 값을 반환하는 계산가능한(evaluable) 코드 조각을 의미한다.<br>

코드는 한줄 한줄 문장으로 작성해야 애플리케이션 내부에서 부수 효과(side effect)를 최소화 할 수 있다.<br>

<br>



### 패턴 매치

패턴 매치는 수학 책에는 없는 개념이다.<br>

함수형 프로그래밍에서 패턴 매치는 특정 변수 들에 의존하지 않도록 도와준다.<br>

e.g.

일반적인 프로그래밍은 객체 안에 변수들을 여러 개 모아두고 캡슐화를 하는데, 

함수형 프로그래밍에서 패턴 매치를 이용하면 조금 더 효과적으로 객체에서 구성 요소를 추출하고 타입을 체크할 수 있다. 변수를 더 쓰지 않아도 단순하고 간결하게 만들어준다.<br>

<br>



### 클로저

클로저는 함수 스코프 밖의 변수를 참조하는 것을 클로저라고 한다.<br>

실행 시에 현재 스코프 외부의 실행 문맥을 현재 스코프에서 참조할 수 있도록 해주는 개념.<br>

클로저는 말로 정리하기엔 설명이 쉽지 않은 것 같다.

```java
public class Closure {
    public String foo = "";

    public static Closure process(final Closure t){
        System.out.println(t.toString() + " = " + t.foo);
        t.foo = "bar";
        new Runnable(){
            @Override
            public void run() {
                System.out.println(t.toString() + " = " + t.foo);
                t.foo = "baz";
            }
        }.run();
        System.out.println(t.toString() + " = " + t.foo);
        return t;
    }

    public static void main(String [] args){
        process(new Closure());
    }
}
```

<br>

위에서 Runnable 밖에서 Closure 객체 내부의 상태를 접근하고 있다. 이렇게 외부의 객체를 참조할 수 있는 것을 클로저라고 한다.<br>

<br>

뭔가 가까워지게끔 도와주는 도구 이렇게 한국말로 의역이 될지... <br>

자바의 클로저는 진정한 클로저인지 논쟁이 있다고 한다. final 키워드 때문이다. 위의 코드에서는 final 코드 없이 외부 변수를 접근했다. 아마 자바 1.7 버전에서는 에러를 냈을 것이다. 이것이 가능한 이유는 java 8 부터는 컴파일러가 final 키워드를 붙여서 처리하도록 변경되어서라고 한다.<br>











