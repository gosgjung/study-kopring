# 코틀린 람다 여러줄 쓸때

일하다보면 자바를 쓸 때가 많다. 한참동안 자바를 쓰다가 갑자기 코틀린을 쓰면 갑자기 머리도 아파오기도 한다. 그래도 코틀린언어의 간결함이 좋다.<br>

오늘은 코틀린으로 람다를 작성할 때 람다 구문이 두줄 이상으로 늘여서 써야 하는 경우 어떻게 해야하는지 그냥  기록만 해두려 한다.<br>

사실 별 내용 없지만, 자바 쓰다가 갑자기 코틀린 써야할 때 이게 매번 기억이 안나서 고통스러웠던 적이 꽤 있었다.<br>

<br>

# e.g 1) 인라인 람다 실행하기

sum 이라는 함수를 선언하지 않고 람다를 선언해서 사용하는 경우를 예로 들어보자. 그리고, 단순히 값을 더하는 것 말고 그 중간에 조잡한 출력문구를 println() 문으로 출력하는 경우를 예로 들어보자.<br>

이 경우 출력문구와, 덧셈 연산을 하려면 두줄에 걸쳐서 써야 한다.<br>

자바를 쓸때에는 이렇게 두 라인에 걸쳐서 람다를 작성해야 할 때 괄호로 묶어서 표현했다.<br>

하지만 코틀린은 람다를 `{}` 로 묶어서 표현하면 전혀 다른 표현식이 된다.<bR>

또한, 코틀린은 `return` 문을 람다 내에서 허용하지 않는다.<br>

이 두가지가 자바에서 코틀린으로 넘어올때 많은 사람들이 힘들어하는 부분이다.<br>

<br>

이럴 때는 아래와 같이 표현하면 된다.

```kotlin
@Test
fun lambda_test1(){
    val sum = { x1: Int, x2: Int ->
                   println("x1 = $x1 , x2 = $x2")
                   println("now sum two int number")
                   x1 + x2
              }

    assertThat(sum(1,2)).isEqualTo(3)
}
```

<br>

람다 안에서 println 문을 여러 줄에 걸쳐서 실행하고 있고 리턴하려는 값을 가장 마지막에 두었다. 코틀린은 return 문이 필요 없다.<br>

출력결과는 아래와 같다.<br>

```plain
x1 = 1 , x2 = 2
now sum two int number
```

<br>

사실 설명을 잘 못써서 예제를 잘 정리해뒀다...<br>

<br>

# e.g 2) 함수의 마지막 인자가 람다일 때

코틀린은 함수의 가장 마지막 인자에 람다가 있으면, 함수 밖에 람다를 정의해서 전달할 수 있다. <br>

람다가 길어지는 경우도 있어서 이렇게 표현하는 것 같다.<br>

내 경우는 코틀린을 처음 공부할 때 이렇게 함수의 바깥에 `{...}` 으로 람다식을 전달하는 것이 꼭 `fun(...){...}` 이렇게 표시하는 것에도 조금은 비슷한 표현인가? 하고 혼자 착각을 하기도 했었다.<br>

<br>

이번에도 예제를 정리했다. 설명은 그냥 스킵하련다.<br>

아래와 같은 함수가 있다고 해보자.<br>

```kotlin
fun operation(x1: Int, x2: Int, expr: (Int, Int) -> Int): Int{
    return expr(x1, x2)
}
```

<br>

가장 마지막 인자가 `expr` 이라는 인자이고, 이것은 람다 타입으로 받는다.<br>

이 `operation(x1, x2, lambda)` 함수를 호출하는 예제를 살펴보자.<br>

```kotlin
@Test
fun lambda_test2(){
    val result : Int = operation(1,2){x1, x2 -> x1*x2}
    assertThat(result).isEqualTo(2)
}
```

<br>

위의 코드에서는 아래와 같이 람다를 맨 뒤로 늘여서 썼다.<br>

- `val result : Int = operation(1,2){x1, x2 -> x1*x2}`

<br>

...

그냥 정리해봤다. 나중에 또 java 로 일하다가 갑자기 코틀린 써야 할 때 다시 책집어들기보다는 예전에 정리해놓은 내용 있으면 요긴하게 쓸것 같아서 정리했다. 정리하는데에 20분이나 걸리다니... 아이고 머리야..<br>

<br>